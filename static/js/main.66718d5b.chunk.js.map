{"version":3,"sources":["servises/getApiFetch.js","components/SearchForm/SearchForm.js","servises/getCamerasNameList.js","components/ListOfCameras/ListOfItems.js","components/PhotosList/PhotosList.js","components/App.js","index.js","components/App.module.css"],"names":["baseUrl","apiKey","getPhotosBySelectedRover","rover","sol","a","axios","get","photos","data","console","error","getPhotosBySelectedRoverAndCamera","camera","page","getAllPhotosBySelectedRoverAndCamera","SearchForm","state","selectedItem","handleSubmit","e","preventDefault","alert","props","onSubmit","handleChangeSol","value","target","setState","handleChangeSelect","style","width","textAlign","this","label","name","onChange","enhanced","options","marginTop","dense","type","Component","getCameraNamesList","listNames","map","item","Set","ListOfItems","cameras","onClick","display","justifyContent","flexWrap","fontSize","color","fontWeight","marginBottom","paddingLeft","margin","key","uuidv4","PhotosList","viewable","log","masonry","columnGap","photo","FlexDirection","id","src","img_src","alt","App","selectedCamera","totalPages","handleSearchForm","formatedSol","Number","handleClickOnItem","cameraName","textContent","toLowerCase","handleClickOnBtn","_","nextState","fetchServises","then","length","scroll","document","documentElement","offsetHeight","window","scrollTo","top","behavior","className","s","wrapper","use","tag","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.66718d5b.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst baseUrl = 'https://api.nasa.gov/mars-photos/api/v1/rovers';\r\nconst apiKey = 'syxFeNXEYbj9yt2ovw126SVQmXviPNQUTGCCdmvS';\r\n\r\nconst getPhotosBySelectedRover = async (rover, sol) => {\r\n  try {\r\n    const {\r\n      data: {photos},\r\n    } = await axios.get(\r\n      `${baseUrl}/${rover}/photos?sol=${sol}&api_key=${apiKey}`,\r\n    );\r\n    return photos;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n};\r\n\r\nconst getPhotosBySelectedRoverAndCamera = async (rover, sol, camera, page) => {\r\n  try {\r\n    const {\r\n      data: {photos},\r\n    } = await axios.get(\r\n      `${baseUrl}/${rover}/photos?sol=${sol}&page=${page}&camera=${camera}&api_key=${apiKey}`,\r\n    );\r\n    return photos;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n};\r\n\r\nconst getAllPhotosBySelectedRoverAndCamera = async (rover, sol, camera) => {\r\n  try {\r\n    const {\r\n      data: {photos},\r\n    } = await axios.get(\r\n      `${baseUrl}/${rover}/photos?sol=${sol}&camera=${camera}&api_key=${apiKey}`,\r\n    );\r\n    return photos;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport default {getPhotosBySelectedRover, getPhotosBySelectedRoverAndCamera, getAllPhotosBySelectedRoverAndCamera};\r\n","import React, {Component} from 'react';\r\nimport {FormField} from '@rmwc/formfield';\r\nimport {Select} from '@rmwc/select';\r\nimport {TextField} from '@rmwc/textfield';\r\nimport {Button} from '@rmwc/button';\r\nimport '@rmwc/button/styles';\r\nimport '@rmwc/formfield/styles';\r\nimport '@rmwc/select/styles';\r\nimport '@rmwc/textfield/styles';\r\n\r\n\r\nclass SearchForm extends Component {\r\n  state = {\r\n    selectedItem: '',\r\n    sol: null,\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (!this.state.selectedItem & !this.state.sol) {\r\n      return alert('Select all inputs!');\r\n    }\r\n    this.props.onSubmit(this.state);\r\n  };\r\n  handleChangeSol = ({target}) => {\r\n    const {value} = target;\r\n    this.setState({sol: value});\r\n  };\r\n  handleChangeSelect = ({target}) => {\r\n    const {value} = target;\r\n    this.setState({selectedItem: value});\r\n  };\r\n  render() {\r\n    return (\r\n      <FormField style={{width: '350px'}}>\r\n        <form  style={{textAlign: 'center'}} onSubmit={this.handleSubmit}>\r\n          <Select\r\n            style={{width: '100%'}}\r\n            label=\"Choose rover\"\r\n            name=\"selectedItem\"\r\n            value={this.selectedItem}\r\n            onChange={this.handleChangeSelect}\r\n            enhanced\r\n            options={['curiosity', 'opportunity', 'spirit']}\r\n          />\r\n          <TextField\r\n            style={{width: '100%'}}\r\n            value={this.sol}\r\n            onChange={this.handleChangeSol}\r\n            label=\"write sol...\"\r\n          ></TextField>\r\n          <Button style={{marginTop: '5px'}}  dense type=\"submit\">\r\n            find cameras ...\r\n          </Button>\r\n        </form>\r\n      </FormField>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForm;\r\n","export const getCameraNamesList = (data) => {\r\n    const listNames = data.map(item => item.camera.name);\r\n    return [...new Set(listNames)];\r\n}\r\n\r\n","import React from 'react';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport {Chip} from '@rmwc/chip';\r\nimport '@rmwc/chip/styles';\r\n\r\nexport const ListOfItems = ({cameras, onClick}) => {\r\n  cameras.map(camera => {\r\n    return {value: camera, label: camera};\r\n  });\r\n  return (\r\n    <div style={{width: '100%', display: 'flex', justifyContent:'center', flexWrap: 'wrap'}} >\r\n      <h2 style={{fontSize: '16px', color: 'gray', width: '100%', textAlign: 'center', fontWeight:'400', marginBottom:'0px'}}>select camera</h2>\r\n      <ul style={{ display: 'flex', justifyContent:'center', flexWrap: 'wrap', paddingLeft:'0px'}}>\r\n        {cameras.map(camera => {\r\n          return (\r\n            <Chip style={{margin: '5px'}} onClick={onClick} key={uuidv4()}>\r\n              {camera}\r\n            </Chip>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport {Button} from '@rmwc/button';\r\nimport {ImageList, ImageListItem} from '@rmwc/image-list';\r\nimport '@rmwc/button/styles';\r\nimport '@rmwc/elevation/styles';\r\nimport '@rmwc/image-list/styles';\r\n\r\nexport const PhotosList = ({viewable, photos, onClick}) => {\r\n  console.log(viewable)\r\n  return (\r\n    <>\r\n      <ImageList\r\n        masonry\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          flexWrap: 'wrap',\r\n          width: '100%',\r\n          columnGap: '10px',\r\n        }}\r\n      >\r\n        {photos.map(photo => {\r\n          return (\r\n            <ImageListItem style={{display:'flex', FlexDirection:'row-reverse'}} key={photo.id}>\r\n              <img src={photo.img_src} style={{marginBottom:'10px'}} alt='' width=\"300px\" />\r\n            </ImageListItem>\r\n          );\r\n        })}\r\n      </ImageList>\r\n      <div style={{width: '100%', display:'flex', justifyContent: 'center'}}>\r\n        {viewable && <Button onClick={onClick}>Load more...</Button>}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, {Component} from 'react';\r\nimport fetchServises from '../servises/getApiFetch';\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport {getCameraNamesList} from '../servises/getCamerasNameList';\r\nimport {ListOfItems} from './ListOfCameras/ListOfItems';\r\nimport {PhotosList} from './PhotosList/PhotosList';\r\nimport {Typography } from '@rmwc/typography';\r\nimport s from './App.module.css';\r\nimport '@rmwc/typography/styles';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    cameras: [],\r\n    photos: [],\r\n    selectedItem: '',\r\n    selectedCamera: '',\r\n    sol: null,\r\n    page: 1,\r\n    totalPages: null,\r\n  };\r\n\r\n  componentDidUpdate(_, nextState) {\r\n    const {selectedItem, sol, selectedCamera, page} = this.state;\r\n    if (\r\n      nextState.selectedItem !== this.state.selectedItem ||\r\n      nextState.sol !== this.state.sol\r\n    ) {\r\n      fetchServises.getPhotosBySelectedRover(selectedItem, sol).then(data => {\r\n        this.setState({cameras: getCameraNamesList(data), photos: []});\r\n      });\r\n    }\r\n\r\n    if (nextState.selectedCamera !== this.state.selectedCamera) {\r\n      fetchServises\r\n        .getAllPhotosBySelectedRoverAndCamera(selectedItem, sol, selectedCamera)\r\n        .then(data => this.setState({totalPages: data.length}));\r\n      fetchServises\r\n        .getPhotosBySelectedRoverAndCamera(\r\n          selectedItem,\r\n          sol,\r\n          selectedCamera,\r\n          page,\r\n        )\r\n        .then(photos => {\r\n          this.setState({photos: photos, page: 1});\r\n        });\r\n    }\r\n    if (nextState.page !== this.state.page) {\r\n      const heightSpiner = 120;\r\n      const scroll = document.documentElement.offsetHeight - heightSpiner;\r\n      fetchServises\r\n        .getPhotosBySelectedRoverAndCamera(\r\n          selectedItem,\r\n          sol,\r\n          selectedCamera,\r\n          page,\r\n        )\r\n        .then(photos => {\r\n          this.setState(state => ({photos: [...state.photos, ...photos]}));\r\n          window.scrollTo({\r\n            top: scroll,\r\n            behavior: 'smooth',\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleSearchForm = data => {\r\n    const {selectedItem, sol} = data;\r\n    const formatedSol = Number(sol);\r\n    this.setState({selectedItem, sol: formatedSol});\r\n  };\r\n\r\n  handleClickOnItem = ({target: {textContent}}) => {\r\n    const cameraName = textContent.toLowerCase();\r\n    this.setState({selectedCamera: cameraName});\r\n  };\r\n  handleClickOnBtn = () => {\r\n    this.setState(state => ({page: state.page + 1}));\r\n  };\r\n  render() {\r\n    const {cameras, photos, totalPages} = this.state;\r\n    const viewable = totalPages - photos.length > 25;\r\n    return (\r\n      <div className={s.wrapper}>\r\n        <Typography use=\"headline6\" tag=\"h2\" style={{width: '100%', textAlign: 'center', color:'#783ee6', fontWeight: '600'}}>Experiments of the NASA expedition to Mars!</Typography>\r\n        <SearchForm onSubmit={this.handleSearchForm} />\r\n        {cameras.length !== 0 && (\r\n          <ListOfItems cameras={cameras} onClick={this.handleClickOnItem} />\r\n        )}\r\n        {photos.length !== 0 && (\r\n          <PhotosList\r\n            viewable={viewable}\r\n            photos={photos}\r\n            onClick={this.handleClickOnBtn}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__pp0_G\"};"],"sourceRoot":""}